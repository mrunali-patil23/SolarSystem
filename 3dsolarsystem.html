<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System - 3D Interactive Simulation</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000011;
            font-family: Arial, sans-serif;
        }

        #canvas-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .control-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #333;
            border-radius: 10px;
            padding: 20px;
            color: white;
            max-width: 300px;
            z-index: 1000;
            box-shadow: 0 0 20px rgba(255, 165, 0, 0.3);
        }

        .control-panel h2 {
            margin: 0 0 15px 0;
            color: #ffa500;
            font-size: 18px;
        }

        .planet-control {
            margin-bottom: 15px;
        }

        .planet-control label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .planet-control input[type="range"] {
            width: 100%;
            margin-bottom: 5px;
        }

        .planet-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .pause-btn {
            background: #ffa500;
            color: black;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-bottom: 15px;
        }

        .pause-btn:hover {
            background: #ff8c00;
        }

        .instructions {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #333;
            border-radius: 10px;
            padding: 15px;
            color: white;
            font-size: 12px;
            z-index: 1000;
        }

        .title {
            position: fixed;
            top: 20px;
            right: 20px;
            color: #ffa500;
            font-size: 24px;
            font-weight: bold;
            z-index: 1000;
            text-shadow: 0 0 10px rgba(255, 165, 0, 0.5);
        }

        .hover-info {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #ffa500;
            border-radius: 5px;
            padding: 10px;
            color: white;
            font-size: 16px;
            font-weight: bold;
            pointer-events: none;
            z-index: 1000;
            display: none;
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.5);
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    
    <div class="title">Solar System</div>
    
    <div class="control-panel">
        <h2>Controls</h2>
        <button class="pause-btn" id="pauseBtn">‚è∏Ô∏è Pause Animation</button>
        
        <div id="planet-controls">
            <!-- Planet controls will be generated by JavaScript -->
        </div>
    </div>

    <div class="instructions">
        üñ±Ô∏è Click & drag to rotate view<br>
        üîç Scroll to zoom in/out<br>
        ü™ê Hover over planets for info
    </div>

    <div class="hover-info" id="hoverInfo"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/three.min.js"></script>
    <script>
        // Global variables
        let scene, camera, renderer;
        let planets = [];
        let sun;
        let isPaused = false;
        let isDragging = false;
        let mousePosition = { x: 0, y: 0 };
        let raycaster, mouse;

        // Planet data
        const planetData = [
            { name: 'Mercury', radius: 0.5, distance: 8, speed: 0.02, color: 0x8c7853, angle: 0 },
            { name: 'Venus', radius: 0.7, distance: 11, speed: 0.015, color: 0xffa500, angle: Math.PI / 4 },
            { name: 'Earth', radius: 0.8, distance: 15, speed: 0.01, color: 0x6b93d6, angle: Math.PI / 2 },
            { name: 'Mars', radius: 0.6, distance: 20, speed: 0.008, color: 0xcd5c5c, angle: 3 * Math.PI / 4 },
            { name: 'Jupiter', radius: 2.5, distance: 30, speed: 0.005, color: 0xd2691e, angle: Math.PI },
            { name: 'Saturn', radius: 2.2, distance: 40, speed: 0.003, color: 0xfad5a5, angle: 5 * Math.PI / 4 },
            { name: 'Uranus', radius: 1.5, distance: 50, speed: 0.002, color: 0x4fd0e3, angle: 3 * Math.PI / 2 },
            { name: 'Neptune', radius: 1.4, distance: 60, speed: 0.001, color: 0x4169e1, angle: 7 * Math.PI / 4 }
        ];

        // Initialize the scene
        function init() {
            // Create scene
            scene = new THREE.Scene();

            // Create camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 80, 120);
            camera.lookAt(0, 0, 0);

            // Create renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000011);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            // Create raycaster for mouse interaction
            raycaster = new THREE.Raycaster();
            mouse = new THREE.Vector2();

            // Add lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
            scene.add(ambientLight);

            const sunLight = new THREE.PointLight(0xffa500, 3, 200);
            sunLight.position.set(0, 0, 0);
            scene.add(sunLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 10, 5);
            scene.add(directionalLight);

            // Create sun
            const sunGeometry = new THREE.SphereGeometry(3, 32, 32);
            const sunMaterial = new THREE.MeshBasicMaterial({ color: 0xffa500 });
            sun = new THREE.Mesh(sunGeometry, sunMaterial);
            scene.add(sun);

            // Create stars
            createStars();

            // Create planets
            createPlanets();

            // Create controls
            createControls();

            // Add event listeners
            addEventListeners();

            // Start animation
            animate();
        }

        function createStars() {
            const starsGeometry = new THREE.BufferGeometry();
            const starsVertices = [];
            
            for (let i = 0; i < 10000; i++) {
                const x = (Math.random() - 0.5) * 2000;
                const y = (Math.random() - 0.5) * 2000;
                const z = (Math.random() - 0.5) * 2000;
                starsVertices.push(x, y, z);
            }
            
            starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
            const starsMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 1 });
            const stars = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(stars);
        }

        function createPlanets() {
            planetData.forEach((planetInfo) => {
                const geometry = new THREE.SphereGeometry(planetInfo.radius, 32, 32);
                const material = new THREE.MeshLambertMaterial({ 
                    color: planetInfo.color,
                    transparent: false
                });
                const mesh = new THREE.Mesh(geometry, material);
                
                // Position planets using their initial angles
                mesh.position.x = Math.cos(planetInfo.angle) * planetInfo.distance;
                mesh.position.z = Math.sin(planetInfo.angle) * planetInfo.distance;
                mesh.position.y = 0;
                mesh.userData = { name: planetInfo.name };
                scene.add(mesh);

                const planet = {
                    ...planetInfo,
                    mesh: mesh,
                    currentSpeed: planetInfo.speed
                };
                
                planets.push(planet);
                console.log(`Created ${planetInfo.name} at distance ${planetInfo.distance}`);
            });
        }

        function createControls() {
            const controlsContainer = document.getElementById('planet-controls');
            
            planets.forEach((planet) => {
                const controlDiv = document.createElement('div');
                controlDiv.className = 'planet-control';
                
                const label = document.createElement('label');
                label.innerHTML = `
                    <span class="planet-color" style="background-color: #${planet.color.toString(16).padStart(6, '0')}"></span>
                    ${planet.name} (${(planet.currentSpeed / planet.speed).toFixed(1)}x)
                `;
                
                const slider = document.createElement('input');
                slider.type = 'range';
                slider.min = '0';
                slider.max = '5';
                slider.step = '0.1';
                slider.value = '1';
                slider.addEventListener('input', (e) => {
                    const multiplier = parseFloat(e.target.value);
                    planet.currentSpeed = planet.speed * multiplier;
                    label.innerHTML = `
                        <span class="planet-color" style="background-color: #${planet.color.toString(16).padStart(6, '0')}"></span>
                        ${planet.name} (${multiplier.toFixed(1)}x)
                    `;
                });
                
                controlDiv.appendChild(label);
                controlDiv.appendChild(slider);
                controlsContainer.appendChild(controlDiv);
            });
        }

        function addEventListeners() {
            // Pause button
            document.getElementById('pauseBtn').addEventListener('click', () => {
                isPaused = !isPaused;
                const btn = document.getElementById('pauseBtn');
                btn.innerHTML = isPaused ? '‚ñ∂Ô∏è Resume Animation' : '‚è∏Ô∏è Pause Animation';
            });

            // Mouse controls
            renderer.domElement.addEventListener('mousedown', (event) => {
                isDragging = true;
                mousePosition.x = event.clientX;
                mousePosition.y = event.clientY;
            });

            renderer.domElement.addEventListener('mousemove', (event) => {
                if (isDragging) {
                    const deltaX = event.clientX - mousePosition.x;
                    const deltaY = event.clientY - mousePosition.y;

                    const spherical = new THREE.Spherical();
                    spherical.setFromVector3(camera.position);
                    spherical.theta -= deltaX * 0.01;
                    spherical.phi += deltaY * 0.01;
                    spherical.phi = Math.max(0.1, Math.min(Math.PI - 0.1, spherical.phi));

                    camera.position.setFromSpherical(spherical);
                    camera.lookAt(0, 0, 0);

                    mousePosition.x = event.clientX;
                    mousePosition.y = event.clientY;
                } else {
                    // Handle hover detection
                    mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                    mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

                    raycaster.setFromCamera(mouse, camera);
                    const intersects = raycaster.intersectObjects(scene.children.filter(child => child.userData.name));

                    const hoverInfo = document.getElementById('hoverInfo');
                    if (intersects.length > 0) {
                        hoverInfo.textContent = intersects[0].object.userData.name;
                        hoverInfo.style.display = 'block';
                        document.body.style.cursor = 'pointer';
                    } else {
                        hoverInfo.style.display = 'none';
                        document.body.style.cursor = 'default';
                    }
                }
            });

            renderer.domElement.addEventListener('mouseup', () => {
                isDragging = false;
            });

            // Zoom controls
            renderer.domElement.addEventListener('wheel', (event) => {
                const distance = camera.position.length();
                const newDistance = Math.max(30, Math.min(400, distance + event.deltaY * 0.1));
                camera.position.normalize().multiplyScalar(newDistance);
            });

            // Window resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        function animate() {
            requestAnimationFrame(animate);

            if (!isPaused) {
                // Rotate sun
                sun.rotation.y += 0.005;

                // Update planet positions
                planets.forEach(planet => {
                    planet.angle += planet.currentSpeed;
                    
                    planet.mesh.position.x = Math.cos(planet.angle) * planet.distance;
                    planet.mesh.position.z = Math.sin(planet.angle) * planet.distance;
                    planet.mesh.rotation.y += 0.01;
                });
            }

            renderer.render(scene, camera);
        }

        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>
